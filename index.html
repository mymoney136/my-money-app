<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הכסף שלי</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>

    <div id="welcome-page" class="page active">
        <div class="welcome-container glass-card">
            <h1 class="logo">הכסף שלי</h1>
            <p>ניהול פיננסי חכם וקל</p>
            <button id="start-guest-button" class="button round primary">התחל כאורח</button>
            <div id="auth-form-section">
                <p>או</p>
                <div id="login-fields">
                    <input type="email" id="login-email" placeholder="אימייל" class="glass-input">
                    <input type="password" id="login-password" placeholder="סיסמה" class="glass-input">
                    <button id="login-button" class="button round primary">התחבר</button>
                    <button id="google-login-button" class="button round google">התחבר עם Google</button>
                    <p>אין לך חשבון? <span id="show-register-form-button">הירשם כאן</span></p>
                </div>
                <div id="register-fields" style="display:none;">
                    <input type="email" id="auth-email" placeholder="אימייל" class="glass-input">
                    <input type="password" id="auth-password" placeholder="סיסמה" class="glass-input">
                    <input type="password" id="confirm-password" placeholder="אישור סיסמה" class="glass-input">
                    <button id="register-button" class="button round primary">הרשם</button>
                    <p>יש לך כבר חשבון? <span id="show-login-form-button">התחבר כאן</span></p>
                </div>
            </div>
            <p id="auth-message" class="message"></p>
        </div>
    </div>

    <div id="home-page" class="page">
        <header class="glass-header">
            <h1 id="home-greeting">שלום!</h1>
        </header>
        <nav class="glass-nav">
            <button id="home-button" class="nav-button round active">בית</button>
            <button id="my-money-button" class="nav-button round">ניהול כסף</button>
            <button id="graphs-button" class="nav-button round">גרפים</button>
            <button id="settings-button" class="nav-button round">הגדרות</button>
        </nav>
        <main class="main-content">
            <section class="balance-section glass-card">
                <h2>יתרה נוכחית</h2>
                <p id="current-balance" class="balance-amount">0.00 ₪</p>
            </section>
            <section class="goals-section glass-card">
                <h2>יעדים פיננסיים</h2>
                <ul id="goals-list" class="goals-list">
                    </ul>
            </section>
            <section class="notifications-section glass-card">
                <h2>התראות</h2>
                <p id="notification-status"></p>
                <button id="enable-notifications-button" class="button round primary">אפשר התראות</button>
            </section>
        </main>
    </div>

    <div id="budget-management-page" class="page">
        <header class="glass-header">
            <h1>ניהול כסף</h1>
        </header>
        <nav class="glass-nav">
            <button id="home-button-2" class="nav-button round">בית</button>
            <button id="my-money-button-2" class="nav-button round active">ניהול כסף</button>
            <button id="graphs-button-2" class="nav-button round">גרפים</button>
            <button id="settings-button-2" class="nav-button round">הגדרות</button>
        </nav>
        <main class="main-content">
            <section class="balance-section glass-card">
                <h2>יתרה נוכחית</h2>
                <p id="current-balance-money-page" class="balance-amount">0.00 ₪</p>
            </section>
            <section class="transaction-form-section glass-card">
                <h2>הוספת פעולה</h2>
                <form id="transaction-form">
                    <label for="transaction-type">סוג פעולה:</label>
                    <select id="transaction-type" class="glass-input">
                        <option value="income">הכנסה</option>
                        <option value="expense">הוצאה</option>
                    </select>
                    <label for="transaction-amount">סכום:</label>
                    <input type="number" id="transaction-amount" placeholder="סכום בשקלים" required class="glass-input">
                    <label for="transaction-description">תיאור (אופציונלי):</label>
                    <input type="text" id="transaction-description" placeholder="תיאור הפעולה" class="glass-input">
                    <label for="transaction-date">תאריך:</label>
                    <input type="date" id="transaction-date" required class="glass-input">
                    <button type="button" id="add-transaction-button" class="button round primary">הוסף</button>
                </form>
                <p id="transaction-message" class="message"></p>
            </section>
            <section class="transactions-list-section glass-card">
                <h2>היסטוריית פעולות</h2>
                <div class="filter-controls">
                    <label for="start-date">מתאריך:</label>
                    <input type="date" id="start-date" class="glass-input-small">
                    <label for="end-date">עד תאריך:</label>
                    <input type="date" id="end-date" class="glass-input-small">
                    <button id="filter-button" class="button round secondary">סנן</button>
                    <button id="reset-filter-button" class="button round secondary">אפס סינון</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>תאריך</th>
                            <th>סכום</th>
                            <th>סוג</th>
                            <th>תיאור</th>
                            <th>פעולות</th>
                        </tr>
                    </thead>
                    <tbody id="transactions-table-body">
                        </tbody>
                </table>
            </section>
            <section class="period-summary glass-card">
                <h2>סיכום תקופה</h2>
                <p>הכנסות: <span id="period-income">0.00 ₪</span></p>
                <p>הוצאות: <span id="period-expense">0.00 ₪</span></p>
                <p>מאזן: <span id="period-balance">0.00 ₪</span></p>
                <p id="period-summary-report"></p>
            </section>
        </main>
    </div>

    <div id="graphs-page" class="page">
        <header class="glass-header">
            <h1>גרפים</h1>
        </header>
        <nav class="glass-nav">
            <button id="home-button-3" class="nav-button round">בית</button>
            <button id="my-money-button-3" class="nav-button round">ניהול כסף</button>
            <button id="graphs-button-3" class="nav-button round active">גרפים</button>
            <button id="settings-button-3" class="nav-button round">הגדרות</button>
        </nav>
        <main class="main-content">
            <section class="graphs-container glass-card">
                <h2>הוצאות לפי קטגוריות</h2>
                <canvas id="expenses-pie-chart" width="400" height="400"></canvas>
            </section>
        </main>
    </div>
    
    <div id="settings-modal" class="modal">
        <div class="modal-content glass-card">
            <span id="close-modal-button" class="close-button">&times;</span>
            <h2>הגדרות</h2>
            <div class="settings-section">
                <h3>פרופיל</h3>
                <p>אימייל: <span id="user-email-display"></span></p>
                <label>
                    סיסמה:
                    <input type="password" id="user-password-input" value="********" class="glass-input">
                    <button id="show-password-button" class="button round small-button">הצג</button>
                </label>
                <button id="logout-button" class="button round danger">התנתק</button>
            </div>
            <div class="settings-section">
                <h3>ערכת נושא</h3>
                <label><input type="radio" name="theme" id="theme-light-radio" value="light"> נושא בהיר</label>
                <label><input type="radio" name="theme" id="theme-dark-radio" value="dark"> נושא כהה</label>
            </div>
            <div class="settings-section">
                <h3>צבעים</h3>
                <label>
                    צבע ראשי:
                    <input type="color" id="main-color-input">
                </label>
                <label>
                    צבע משני:
                    <input type="color" id="accent-color-input">
                </label>
            </div>
            <div class="settings-section">
                <h3>פונט</h3>
                <label><input type="radio" name="font" id="font-Heebo-radio" value="Heebo" checked> Heebo</label>
                <label><input type="radio" name="font" id="font-Poppins-radio" value="Poppins"> Poppins</label>
                <label><input type="radio" name="font" id="font-Arial-radio" value="Arial"> Arial</label>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js" type="module"></script>
</body>
</html>