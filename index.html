<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הכסף שלי</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700&family=Poppins:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-buttons left">
            <button id="my-money-button" class="icon-button" title="הכסף שלי">💰</button>
            <button id="graphs-button" class="icon-button" title="גרפים/טבלאות">📈</button>
        </div>
        <h1 id="app-title">הכסף שלי</h1>
        <div class="header-buttons right">
            <button id="home-button" class="icon-button" title="דף הבית">🏠</button>
            <button id="settings-button" class="icon-button" title="הגדרות">⚙️</button>
        </div>
    </header>

    <main id="main-content">
        <section id="welcome-page" class="page active">
            <div class="card">
                <h1>ברוכים הבאים ל"הכסף שלי"</h1>
                <p>נהל את ההכנסות וההוצאות שלך בחכמה, עקוב אחר יעדי חיסכון, וקבל תמונה ברורה של מצבך הפיננסי.</p>
                <button id="show-auth-form-button" class="button">התחבר או הירשם</button>
                <button id="start-guest-button" class="button secondary">התחל כאורח</button>
            </div>
            <div class="auth-section" id="auth-form-section">
                <h2>התחברות / הרשמה</h2>
                <div class="form-group">
                    <label for="auth-email">אימייל:</label>
                    <input type="email" id="auth-email" placeholder="הכנס אימייל" required>
                </div>
                <div class="form-group">
                    <label for="auth-password">סיסמה:</label>
                    <input type="password" id="auth-password" placeholder="הכנס סיסמה" required>
                </div>
                <div class="auth-buttons">
                    <button id="register-button" class="button secondary">הרשמה</button>
                    <button id="login-button" class="button success">התחברות</button>
                    <button id="google-login-button" class="button secondary">התחבר עם גוגל</button>
                </div>
                <div id="auth-message" class="message" style="display: none;"></div>
            </div>
        </section>

        <section id="home-page" class="page">
            <div class="container">
                <div class="card home-welcome-card">
                    <h2>היי!</h2>
                    <p id="home-greeting"></p>
                    <div id="notifications-section">
                        <h3>התראות</h3>
                        <p id="notification-status">לא ניתן לקבל התראות כרגע. אנא הוסף את האתר למסך הבית.</p>
                        <button id="enable-notifications-button" class="button" style="display:none;">אפשר התראות</button>
                    </div>
                    <div class="balance-summary">
                        <h3>יתרה נוכחית:</h3>
                        <div id="current-balance" class="balance-display">0.00 ₪</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="budget-management-page" class="page">
            <div class="container">
                <div class="card">
                    <h2>יתרה נוכחית</h2>
                    <div id="current-balance-money-page" class="balance-display">0.00 ₪</div>
                </div>
                <div class="card">
                    <h2>הוספת פעולה חדשה</h2>
                    <div id="transaction-message" class="message" style="display: none;"></div>
                    <div class="form-group">
                        <label for="transaction-type">סוג פעולה:</label>
                        <select id="transaction-type">
                            <option value="income">הכנסה</option>
                            <option value="expense">הוצאה</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="transaction-amount">סכום:</label>
                        <input type="number" id="transaction-amount" placeholder="הכנס סכום" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="transaction-description">תיאור (אופציונלי):</label>
                        <input type="text" id="transaction-description" placeholder="תיאור הפעולה">
                    </div>
                    <div class="form-group">
                        <label for="transaction-date">תאריך:</label>
                        <input type="date" id="transaction-date">
                    </div>
                    <div class="transaction-buttons">
                        <button id="add-transaction-button" class="button">הוסף פעולה</button>
                    </div>
                </div>
                <div class="card">
                    <h2>היסטוריית פעולות</h2>
                    <div class="filter-section">
                        <h3>סינון תקופתי</h3>
                        <div class="form-group">
                            <label for="start-date">מתאריך:</label>
                            <input type="date" id="start-date">
                        </div>
                        <div class="form-group">
                            <label for="end-date">עד תאריך:</label>
                            <input type="date" id="end-date">
                        </div>
                        <div class="filter-buttons">
                            <button id="filter-button" class="button secondary">סנן</button>
                            <button id="reset-filter-button" class="button secondary">אפס סינון</button>
                        </div>
                    </div>
                    <div class="period-summary">
                        <div class="summary-item income">
                            <h3>הכנסות בתקופה</h3>
                            <span id="period-income">0.00 ₪</span>
                        </div>
                        <div class="summary-item expense">
                            <h3>הוצאות בתקופה</h3>
                            <span id="period-expense">0.00 ₪</span>
                        </div>
                        <div class="summary-item balance">
                            <h3>יתרה בתקופה</h3>
                            <span id="period-balance">0.00 ₪</span>
                        </div>
                    </div>
                    <div id="period-summary-report" class="period-summary-report"></div>
                    <table class="transactions-table">
                        <thead>
                            <tr>
                                <th>תאריך</th>
                                <th>סכום</th>
                                <th>סוג</th>
                                <th>תיאור</th>
                                <th>פעולות</th>
                            </tr>
                        </thead>
                        <tbody id="transactions-table-body"></tbody>
                    </table>
                </div>
                <div class="card">
                    <h2>יעדי חיסכון</h2>
                    <div id="goal-message" class="message" style="display: none;"></div>
                    <div class="form-group">
                        <label for="goal-name">שם יעד:</label>
                        <input type="text" id="goal-name" placeholder="לדוגמה: חופשה בחו'ל">
                    </div>
                    <div class="form-group">
                        <label for="goal-amount">סכום יעד:</label>
                        <input type="number" id="goal-amount" placeholder="הכנס סכום יעד" min="0" step="0.01">
                    </div>
                    <div class="goal-buttons">
                        <button id="add-goal-button" class="button">הוסף יעד</button>
                    </div>
                    <ul id="goals-list" class="goals-list"></ul>
                </div>
            </div>
        </section>

        <section id="graphs-page" class="page">
            <div class="container">
                <div class="card">
                    <h2>גרפים ודוחות</h2>
                    <p>כאן יופיעו גרפים, טבלאות ודוחות חכמים על ההכנסות וההוצאות שלך.</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 הכסף שלי. כל הזכויות שמורות.</p>
    </footer>

    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-modal-button">&times;</span>
            <h2>הגדרות</h2>

            <div class="modal-settings-group" id="profile-settings-group">
                <h3>פרופיל משתמש</h3>
                <div class="form-group">
                    <label for="user-email">אימייל:</label>
                    <p id="user-email-display"></p>
                </div>
                <div class="form-group">
                    <label for="user-password-display">סיסמה:</label>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="password" id="user-password-display" value="********" readonly>
                        <button id="show-password-button" class="button small-button secondary">הצג</button>
                    </div>
                </div>
                <button id="logout-button" class="button danger">התנתק</button>
            </div>

            <div class="modal-settings-group">
                <h3>ערכת נושא</h3>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="theme" value="dark" id="theme-dark-radio"> מצב כהה
                    </label>
                    <label>
                        <input type="radio" name="theme" value="light" id="theme-light-radio"> מצב בהיר
                    </label>
                </div>
            </div>

            <div class="modal-settings-group">
                <h3>צבעים</h3>
                <div class="color-picker-group">
                    <label for="main-color-input">צבע ראשי:</label>
                    <input type="color" id="main-color-input">
                </div>
                <div class="color-picker-group">
                    <label for="accent-color-input">צבע הדגשה:</label>
                    <input type="color" id="accent-color-input">
                </div>
            </div>

            <div class="modal-settings-group">
                <h3>פונט</h3>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="font" value="Heebo" id="font-Heebo-radio"> Heebo
                    </label>
                    <label>
                        <input type="radio" name="font" value="Poppins" id="font-Poppins-radio"> Poppins
                    </label>
                    <label>
                        <input type="radio" name="font" value="Arial" id="font-Arial-radio"> Arial
                    </label>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>